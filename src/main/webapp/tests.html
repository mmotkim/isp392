<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Table with Search and Sorting</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <!-- Bootstrap Icons CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css">
  <style>
    .search-icon {
      cursor: pointer;
    }
    .search-bar {
      margin-bottom: 10px;
    }
    .table-container {
      overflow: auto;
      height: 200px; /* Adjust the height as needed */
    }
    .sortable-title {
      cursor: pointer;
    }
    .sortable-title::after {
      display: inline-block;
      content: '';
      width: 0.5em;
      height: 0.5em;
      border-left: 0.3em solid transparent;
      border-right: 0.3em solid transparent;
      border-bottom: 0.5em solid;
      vertical-align: middle;
      margin-left: 0.3em;
      opacity: 0.5;
    }
    .sortable-title.asc::after {
      border-bottom: none;
      border-top: 0.5em solid;
      opacity: 1;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="search-bar">
      <span class="search-icon">
        <i class="bi bi-search"></i>
      </span>
      <input id="searchInput" type="text" class="form-control" placeholder="Search">
    </div>

    <div class="row">
      <div class="col-12 table-container">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th class="sortable-title" onclick="sortTable(0)">Number</th>
              <th class="sortable-title" onclick="sortTable(1)">Title</th>
              <th class="sortable-title" onclick="sortTable(2)">Date</th>
              <!-- Add more table headers here if needed -->
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2</td>
              <td>Title 2</td>
              <td>2022-05-15</td>
            </tr>
            <tr>
              <td>3</td>
              <td>Title 3</td>
              <td>2022-06-01</td>
            </tr>
            <tr>
              <td>1</td>
              <td>Title 1</td>
              <td>2022-04-25</td>
            </tr>
            <!-- Add more table rows here if needed -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var searchInput = document.getElementById('searchInput');
      var searchIcon = document.querySelector('.search-icon');
      searchIcon.addEventListener('click', function() {
        searchInput.classList.toggle('active');
      });

      searchInput.addEventListener('input', function() {
        var searchText = searchInput.value.toLowerCase();
        var tableRows = document.querySelectorAll('table tbody tr');
        tableRows.forEach(function(row) {
          var title = row.querySelector('td:nth-child(2)').textContent.toLowerCase();
          var activity = row.querySelector('td:nth-child(3)').textContent.toLowerCase();
          if (title.includes(searchText) || activity.includes(searchText)) {
            row.style.display = 'table-row';
          } else {
            row.style.display = 'none';
          }
        });
      });
    });

    function sortTable(columnIndex) {
      var table = document.querySelector('table');
      var tbody = table.tBodies[0];
      var rows = Array.from(tbody.querySelectorAll('tr'));

      rows.sort(function(a, b) {
        var aValue = a.cells[columnIndex].textContent;
        var bValue = b.cells[columnIndex].textContent;
        if (columnIndex === 0) {
          return aValue - bValue;
        } else if (columnIndex === 2) {
          return new Date(aValue) - new Date(bValue);
        } else {
          return aValue.localeCompare(bValue);
        }
      });

      if (table.classList.contains('asc')) {
        rows.reverse();
        table.classList.remove('asc');
      } else {
        table.classList.add('asc');
      }

      rows.forEach(function(row) {
        tbody.appendChild(row);
      });
    }
  </script>
</body>

</html>
